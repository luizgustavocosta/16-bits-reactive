<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>R2DBC Example - Protected</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
      $(function () {
        var source = new EventSource('http://localhost:8080/customers/stream');
        source.onmessage = function (e) {
          var data = JSON.parse(e.data);
          var htmlText = '<tr><td>' + data.id + '</td><td>' + data.name + '</td><td>' + data.middleName + '</td></tr>';
          $("#customerTable > tbody").append(htmlText);
        };
      });
    </script>
</head>
<body>
<h1>From Okta</h1>
<table id="customerTable">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Middle name</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>
</body>
</html>